<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Intrusion Detection System</title>
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3062/3062634.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="modeOverlay" class="mode-overlay">
        <div style="text-align:center;">
            <img src="https://cdn-icons-png.flaticon.com/512/3062/3062634.png" width="70" style="margin-bottom: 18px;">
            <h2 style="color:#00e6e6; font-weight:700;">Choose System Mode</h2>
            <button class="mode-btn" id="registerModeBtn">Register Faces</button>
            <button class="mode-btn" id="runModeBtn">Run System</button>
        </div>
    </div>
    <div class="main-container">
        <div class="main-title">
            <img src="https://cdn-icons-png.flaticon.com/512/3062/3062634.png" class="header-logo" alt="Security Logo">
            Face Intrusion Detection System
        </div>
        <div class="subtitle">AI-powered real-time face recognition and intrusion alert system</div>
        
        <div class="row">
            <!-- Left side: Live Detection -->
            <div class="col-md-7">
                <div class="card" style="height: 100%;">
                    <div class="card-header">
                        <span style="vertical-align: middle;">Live Detection <img src="https://cdn-icons-png.flaticon.com/512/3602/3602123.png" width="28" style="margin-left: 8px; vertical-align: middle;" alt="Camera Icon"></span>
                    </div>
                    <div class="card-body">
                        <div class="video-container" style="position: relative; height: 420px;">
                            <video id="video" autoplay></video>
                            <img id="live-detection-img" />
                        </div>
                        <div id="status" class="alert alert-info" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Right side: Switch Mode Button and Registration Card -->
             <div class="col-md-5">
                <!-- Container for Mode Banner and Switch Mode Button -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <!-- Mode banner -->
                    <div id="modeBanner" class="btn btn-primary" style="display: none; margin: 0;"></div>
                    <!-- Switch Mode Button -->
                    <button id="switchModeBtn" class="btn btn-primary" style="display: none; margin: 0;">
                        <img src="https://cdn-icons-png.flaticon.com/512/1828/1828919.png" width="22" style="margin-right:6px;vertical-align:middle;">Switch Mode
                    </button>
                </div>
                <div class="card">
                    <div class="card-header">
                        <span style="vertical-align: middle;">Register New Face <img src="https://cdn-icons-png.flaticon.com/512/3602/3602123.png" width="22" style="margin-left: 6px; vertical-align: middle;" alt="Face Icon"></span>
                    </div>
                    <div class="card-body">
                        <!-- This container will display the email alert status in run mode -->
                        <div id="emailAlertStatus" class="alert" style="display: none; margin-bottom: 12px;"></div>
                        <!-- This container will display the email alert count in run mode -->
                        <div id="emailAlertCount" style="display: none; margin-bottom: 12px; font-weight: bold; color: #00e6e6;"></div>
                        <div class="preview-container" style="height: 180px;">
                            <img id="previewImage" alt="Face Preview">
                        </div>
                        <form id="registerForm">
                            <div class="mb-3">
                                <label for="name" class="form-label">Name</label>
                                <select class="form-control" id="name" required>
                                    <option value="">Select a name...</option>
                                </select>
                            </div>
                            <div class="button-group">
                                <button type="button" class="btn btn-primary" id="captureBtn">Capture Face</button>
                                <button type="submit" class="btn btn-primary" id="registerBtn" disabled>Register Face</button>
                            </div>
                        </form>
                        <div id="registerStatus" class="alert" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <script src="static/index.js"></script>
</body>
</html> 